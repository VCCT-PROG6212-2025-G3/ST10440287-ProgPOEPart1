@* Views/Home/MyClaims.cshtml - My Claims View *@
@model List<ProgPOE.Models.Claim>
@{
    ViewData["Title"] = "My Claims";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <h2>📋 My Claims</h2>
        <p class="text-muted">View and track the status of your submitted claims</p>
    </div>
</div>

<!-- Filter Bar -->
<div class="card mb-4">
    <div class="card-body">
        <div class="row">
            <div class="col-md-3">
                <label class="form-label">Filter by Status:</label>
                <select class="form-control" onchange="filterClaims(this.value)">
                    <option value="">All Status</option>
                    <option value="Pending">Pending</option>
                    <option value="Approved">Approved</option>
                    <option value="Rejected">Rejected</option>
                </select>
            </div>
            <div class="col-md-3">
                <label class="form-label">Search:</label>
                <input type="text" class="form-control" placeholder="Search claims..."
                       oninput="searchClaims(this.value)" />
            </div>
            <div class="col-md-2">
                <label class="form-label">From Date:</label>
                <input type="date" class="form-control" />
            </div>
            <div class="col-md-2">
                <label class="form-label">To Date:</label>
                <input type="date" class="form-control" />
            </div>
            <div class="col-md-2">
                <label class="form-label">&nbsp;</label>
                <button class="btn btn-primary form-control" onclick="exportClaims()">
                    📊 Export
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Claims Table -->
<div class="card">
    <div class="card-header">
        <h5>📊 Claims Summary</h5>
        <small class="text-muted">Showing all your submitted claims</small>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-hover" id="claimsTable">
                <thead class="table-dark">
                    <tr>
                        <th>Claim ID</th>
                        <th>Period</th>
                        <th>Hours</th>
                        <th>Rate (R)</th>
                        <th>Total Amount</th>
                        <th>Status</th>
                        <th>Submitted</th>
                        <th>Documents</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Sample Data Row 1 -->
                    <tr data-status="Pending">
                        <td><strong>CL-2024-008</strong></td>
                        <td>April 2024</td>
                        <td class="text-end">125.5</td>
                        <td class="text-end">450.00</td>
                        <td class="text-end"><strong>R 56,475.00</strong></td>
                        <td>
                            <span class="badge status-pending">⏳ Pending Coordinator</span>
                        </td>
                        <td>2024-04-05</td>
                        <td class="text-center">
                            <span class="badge bg-info">3 files</span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewClaim(1)">
                                👁️ View
                            </button>
                            <button class="btn btn-sm btn-outline-success" onclick="trackStatus(1)">
                                📍 Track
                            </button>
                        </td>
                    </tr>

                    <!-- Sample Data Row 2 -->
                    <tr data-status="Approved">
                        <td><strong>CL-2024-007</strong></td>
                        <td>March 2024</td>
                        <td class="text-end">118.0</td>
                        <td class="text-end">450.00</td>
                        <td class="text-end"><strong>R 53,100.00</strong></td>
                        <td>
                            <span class="badge status-approved">✅ Approved</span>
                        </td>
                        <td>2024-03-03</td>
                        <td class="text-center">
                            <span class="badge bg-info">2 files</span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewClaim(2)">
                                👁️ View
                            </button>
                            <button class="btn btn-sm btn-outline-success" onclick="downloadReceipt(2)">
                                💾 Receipt
                            </button>
                        </td>
                    </tr>

                    <!-- Sample Data Row 3 -->
                    <tr data-status="Pending">
                        <td><strong>CL-2024-006</strong></td>
                        <td>February 2024</td>
                        <td class="text-end">142.0</td>
                        <td class="text-end">450.00</td>
                        <td class="text-end"><strong>R 63,900.00</strong></td>
                        <td>
                            <span class="badge status-pending">⏳ Pending Manager</span>
                        </td>
                        <td>2024-02-02</td>
                        <td class="text-center">
                            <span class="badge bg-info">4 files</span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewClaim(3)">
                                👁️ View
                            </button>
                            <button class="btn btn-sm btn-outline-warning" onclick="sendReminder(3)">
                                📧 Remind
                            </button>
                        </td>
                    </tr>

                    <!-- Sample Data Row 4 -->
                    <tr data-status="Rejected">
                        <td><strong>CL-2024-005</strong></td>
                        <td>January 2024</td>
                        <td class="text-end">98.0</td>
                        <td class="text-end">420.00</td>
                        <td class="text-end"><strong>R 41,160.00</strong></td>
                        <td>
                            <span class="badge status-rejected">❌ Rejected</span>
                        </td>
                        <td>2024-01-05</td>
                        <td class="text-center">
                            <span class="badge bg-info">1 file</span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewClaim(4)">
                                👁️ View
                            </button>
                            <button class="btn btn-sm btn-outline-danger" onclick="viewFeedback(4)">
                                💬 Feedback
                            </button>
                        </td>
                    </tr>

                    <!-- Sample Data Row 5 -->
                    <tr data-status="Approved">
                        <td><strong>CL-2023-012</strong></td>
                        <td>December 2023</td>
                        <td class="text-end">156.0</td>
                        <td class="text-end">420.00</td>
                        <td class="text-end"><strong>R 65,520.00</strong></td>
                        <td>
                            <span class="badge status-approved">✅ Approved</span>
                        </td>
                        <td>2023-12-02</td>
                        <td class="text-center">
                            <span class="badge bg-info">3 files</span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewClaim(5)">
                                👁️ View
                            </button>
                            <button class="
